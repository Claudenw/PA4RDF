<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2017-12-31 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Persistence Annotations 4 RDF - </title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20171231" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Persistence Annotations 4 RDF
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-12-31</span>
                  &nbsp;| <span id="projectVersion">Version: 2.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../annotations.html" title="Annotations">Annotations</a>
            </li>
                  <li class="none">
                          <a href="../usageStrategies.html" title="Usage Strategies">Usage Strategies</a>
            </li>
                  <li class="none">
                          <a href="../dataTypes.html" title="Data Types">Data Types</a>
            </li>
                  <li class="none">
                          <a href="../examples/index.html" title="Code Example">Code Example</a>
            </li>
                  <li class="none">
                          <a href="../project-info.html" title="Project Info">Project Info</a>
            </li>
          </ul>
                       <h5>Java Docs</h5>
                  <ul>
                  <li class="none">
                          <a href="../apidocs/index.html" title="Source">Source</a>
            </li>
                  <li class="none">
                          <a href="../testapidocs/index.html" title="Test Code">Test Code</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <p><a href="./index.html">Examples</a> -&gt; this</p>
<h1>Concrete Class Extending Annotated Interface Example</h1>
<p>This example show how the annotations work on an concrete class that extends an annotated interface. Note that the entity manger creates an instance of the abstract class. This class is the similar to the <a href="./interface.html">interface example</a> except that it uses the List&lt;String&gt; return type for getAuthor() and with the addition of a cite() method that produces a cite entry for the book.</p>
<h1>Book Interface</h1>

<div class="source">
<pre>@Subject( namespace=&quot;http://example.com/PA4RDF#&quot; )
public interface BookI {

    @Predicate
    void setTitle( String title );
    String getTitle();

    @Predicate
    void addAuthor( String author );
    List&lt;String&gt; getAuthor();

    @Predicate
    void setPageCount( Integer int );
    boolean hasPageCount();
    int getPageCount();
}
</pre></div>
<h1>Book Class</h1>

<div class="source">
<pre>public class Book implements BookI {

    @Override
    @Predicate( impl = true )
    public public void setTitle( String title)
    {
       throw new EntityManagerRequiredException();
    }

    @Override
    @Predicate( impl = true )
    public String getTitle()
    {
       throw new EntityManagerRequiredException();
    }

    @Override
    @Predicate( impl = true )
    public void addAuthor( String author )
    {
       throw new EntityManagerRequiredException();
    }

    @Override
    @Predicate( impl = true )
    public List&lt;String&gt; getAuthor() {
       throw new EntityManagerRequiredException();
    }

    @Override
    @Predicate( impl = true )
    public void setPageCount( Integer int )
    {
       throw new EntityManagerRequiredException();
    }

    @Override
    @Predicate( impl = true )  
    public boolean hasPageCount()
    {
       throw new EntityManagerRequiredException();
    }

    @Override
    @Predicate( impl = true )   
    public int getPageCount()
    {
       throw new EntityManagerRequiredException();
    }

    public String cite() 
    {
      StringBuilder sb = new StringBuilder();
      for (String author : getAuthor() )
      {
        sb.append( author ).append( &quot;, &quot; );
      }
      sb.append( getTitle() ).append( &quot;.&quot; );
      if (book.hasPageCount())
      {
        sb.append(&quot; pgs: &quot;).append( getPageCount() );
      }
      return sb.toString();
    }
}
</pre></div>
<h1>Example code setting the Book class</h1>

<div class="source">
<pre>Model model = ModelFactory.createModel();

EntityManager entityManager = EntityManagerFactory.getEntityManager(model);
Resource r = model.createResource( &quot;http://example.com/mylibrary/book1&quot; );


Book book = EntityManager.read( r, Book.class );
book.setTitle( &quot;Java Generics and Collections&quot; );
book.addAuthor( &quot;Maurice Naftalin&quot; );
book.addAuthor( &quot;Philip Wadler&quot; );
book.setPageCount( 286 );
</pre></div>
<h1>Result of example code</h1>
<p>The above code will result in the following graph:</p>

<div class="source">
<pre>&lt;http://example.com/mylibrary/book1&gt; 
    &lt;http://example.com/PA4RDF#title&gt; &quot;Java Generics and Collections&quot; ;
    &lt;http://example.com/PA4RDF#author&gt; &quot;Maurice Naftalin&quot; ;
    &lt;http://example.com/PA4RDF#author&gt; &quot;Philip Wadler&quot; ;
    &lt;http://example.com/PA4RDF#pageCount&gt; &quot;286&quot;^^&lt;xsd:integer&gt; ;
.
</pre></div>
<h1>Example code reading the Book class</h1>
<p>Assuming the book object has been constructed as in the first example.</p>

<div class="source">
<pre>System.out.println( &quot;Title: &quot;+book.getTitle() );
Iterator&lt;String&gt; authors = book.getAuthors();
while (authors.hasNext())
{
    System.out.println( &quot;  Author: &quot;+authors.next() );
}
if (book.hasPageCount())
{
    System.out.println( &quot;  Pages: &quot;+book.getPageCount() );
}
System.out.println( book.cite() );
</pre></div>
<p>This will result in the following output:</p>

<div class="source">
<pre>Title: Java Generics and Collections
  Author: Maurice Naftalin
  Author: Philip Wadler
  Pages: 286      
Maurice Naftalin, Philip Wadler, Java Generics and Collections. pgs: 286
</pre></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2012-2017
                      XENEI.org.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
